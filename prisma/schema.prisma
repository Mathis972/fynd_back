generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
model utilisateurs {
  id                Int       @id @default(autoincrement()) @db.UnsignedInt
  prenom            String    @db.VarChar(50)
  email             String    @unique
  est_admin         Boolean
  mot_de_passe      String    @db.VarChar(100)
  date_de_naissance DateTime? @db.Date
  biographie        String?   @db.Text
  createdAt         DateTime? @default(now()) @db.Timestamp(0)
  updated_date      DateTime? @default(now()) @db.Timestamp(0)
  photo_utilisateur photos_utilisateurs[]
  lri liaisons_raisons_inscriptions[]
  conversations conversations[]@relation("utilisateur1")
  conversations2 conversations[]@relation("utilisateur2")
}
model photos_utilisateurs {
  id                Int       @id @default(autoincrement()) @db.UnsignedInt
  photo_url         String?   @db.Text
  fk_utilisateur_id Int       @db.UnsignedInt
  est_photo_profil  Boolean?
  createdAt         DateTime? @default(now()) @db.Timestamp(0)
  updated_date      DateTime? @default(now()) @db.Timestamp(0)
  utilisateur      utilisateurs @relation(fields: [fk_utilisateur_id],references:[id])
}
model raisons_inscriptions {
  id           Int       @id @default(autoincrement()) @db.UnsignedInt
  libelle      String?   @db.VarChar(100)
  createdAt         DateTime? @default(now()) @db.Timestamp(0)
  updated_date      DateTime? @default(now()) @db.Timestamp(0)
  lri liaisons_raisons_inscriptions[]
}

model liaisons_raisons_inscriptions {
  id                       Int                @id @default(autoincrement()) @db.UnsignedInt
  fk_utilisateur_id        Int                @db.UnsignedInt
  fk_raison_inscription_id Int                @db.UnsignedInt
  createdAt         DateTime?                 @default(now()) @db.Timestamp(0)
  updated_date      DateTime?                 @default(now()) @db.Timestamp(0)
  utilisateur       utilisateurs              @relation(fields: [fk_utilisateur_id],references:[id])
  raison_inscription raisons_inscriptions     @relation(fields: [fk_raison_inscription_id],references:[id])
}

model conversations {
  id                  Int       @id @default(autoincrement()) @db.UnsignedInt
  fk_utilisateur1_id  Int       @db.UnsignedInt
  fk_utilisateur2_id  Int       @db.UnsignedInt
  est_enregistre      Boolean?
  ajout_utilisateurs1 Boolean?
  ajout_utilisateurs2 Boolean?
  date_enregistre     DateTime? @db.Date
  created_date        DateTime? @db.Date
  updated_date        DateTime? @db.Date
  utilisateurs1       utilisateurs @relation("utilisateur1",fields: [fk_utilisateur1_id],references:[id])
  utilisateur2        utilisateurs @relation("utilisateur2",fields: [fk_utilisateur2_id],references:[id])
  message             messages[]
}

model messages {
  id                 Int       @id @default(autoincrement()) @db.UnsignedInt
  send_by_user1      Boolean
  contenu            String?   @db.Text
  fk_conversation_id Int       @db.UnsignedInt
  created_date       DateTime? @db.Date
  updated_date       DateTime? @db.Date
  conversation       conversations  @relation(fields: [fk_conversation_id],references:[id])
}


// model questions {
//   id           Int       @id @default(autoincrement()) @db.UnsignedInt
//   message      String?   @db.VarChar(255)
//   created_date DateTime? @db.Date
//   updated_date DateTime? @db.Date
// }


// model reponses {
//   id              Int       @id @default(autoincrement()) @db.UnsignedInt
//   fk_question_id  Int       @db.UnsignedInt
//   message_reponse String?   @db.VarChar(255)
//   icon            String?   @db.VarChar(30)
//   created_date    DateTime? @db.Date
//   updated_date    DateTime? @db.Date

//   @@index([fk_question_id], name: "fk_question_id")
// }

// model reponses_utilisateurs {
//   id                Int       @id @default(autoincrement()) @db.UnsignedInt
//   fk_utilisateur_id Int       @db.UnsignedInt
//   fk_reponse_id     Int       @db.UnsignedInt
//   created_date      DateTime? @db.Date
//   updated_date      DateTime? @db.Date
//   @@index([fk_reponse_id], name: "fk_reponse_id")
//   @@index([fk_utilisateur_id], name: "fk_utilisateur_id")
// }

